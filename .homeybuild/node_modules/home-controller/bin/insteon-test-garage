#!/usr/bin/env node

'use strict';

var Insteon = require('..').Insteon;
var host = 'COM10';

console.log('Connecting to ' + host);
var gw = new Insteon();

gw.on('connect', function () {
  console.log('Connected!');

  const garage = gw.garage('4204e2');

  garage.on('open', function() {
    console.log('Status: open');
  });
  garage.on('close', function() {
    console.log('Status: closed');
  });

  garage.status()
    .then(function (status) {
      console.log('Status', status);
    });
});

// gw.on('recvCommand', function (cmd) {
//   console.log('command received:', cmd)
// });

gw.on('close', function () {
  console.log('Connection closed');
});

gw.serial(host);
